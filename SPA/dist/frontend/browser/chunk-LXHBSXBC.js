import{b as E,d as P}from"./chunk-HUYHESNH.js";import{a as h,b as O,c as I,d as A,e as T,f as W,g as L,h as B,i as F}from"./chunk-25FZBDSJ.js";import{$a as c,Bb as v,Ca as y,Ia as M,Ja as i,Ka as o,La as w,Oa as m,Pa as C,Xa as l,Ya as b,_a as g,ab as p,bb as x,ma as s,rb as S,ua as u,ub as k,ya as _}from"./chunk-4S6J67UW.js";function N(d,a){if(d&1&&(i(0,"div",13),l(1),o()),d&2){let n=C();s(),b(n.loginError)}}var z=class d{constructor(a,n,e){this.router=a;this.taskService=n;this.aroute=e}name="";email="";password="";token;ngOnInit(){}loginError=null;login(){alert("Logging in "+this.email+" password "+this.password);let a={email:this.email,password:this.password};this.taskService.postUserLogIn(a).subscribe(n=>{if(this.token=n,console.log(this.token),this.token&&this.token.token!="OFF"){localStorage.setItem("auth_token",this.token.token),this.loginError=null;let e=this.aroute.snapshot.queryParamMap.get("event_id"),r=this.aroute.snapshot.queryParamMap.get("email");if(e&&r){let t={token:localStorage.getItem("auth_token"),event:{event_id:e},email:[r]};this.taskService.postCheckParticipant(t).subscribe(f=>console.log("Erfolreich angenommen "+f),f=>console.log("Einladung konnte nicht angenommen werden"),()=>console.log("Einladung angenommen"))}this.router.navigate(["/home"])}else this.loginError="Fehler! Falsche Email oder Passwort!"},n=>{console.log("Could not reach heroku."),this.loginError="Fehler! Falsche Email oder Passwort!"},()=>console.log("Login complete."))}signUp(){alert("Signing up "+this.name+" email "+this.email+" password "+this.password);let a={name:this.name,email:this.email,password:this.password};this.taskService.postUserSignUp(a).subscribe(n=>{console.log(n)},n=>console.log("Could not reach heroku."),()=>console.log("Sign up complete."))}changeToSignup(){let a=document.getElementById("login"),n=document.getElementById("signup"),e=document.getElementById("over-login"),r=document.getElementById("over-signup");a&&n&&e&&r&&(a.style.left="-400px",n.style.left="420px",e.style.left="900px",r.style.left="0px")}changeToLogin(){let a=document.getElementById("login"),n=document.getElementById("signup"),e=document.getElementById("over-login"),r=document.getElementById("over-signup");a&&n&&e&&r&&(a.style.left="0px",n.style.left="900px",e.style.left="420px",r.style.left="-900px")}static \u0275fac=function(n){return new(n||d)(u(P),u(h),u(E))};static \u0275cmp=_({type:d,selectors:[["app-auth"]],features:[x([h])],decls:33,vars:6,consts:[[1,"section-main"],["src","Planify_logo.png"],[1,"container"],["id","login",1,"section-input"],["type","email","name","email","placeholder","Email","required","",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",1,"input",3,"ngModelChange","ngModel"],["type","button",1,"submit-btn",3,"click"],["id","error-message",4,"ngIf"],["id","signup",1,"section-input"],["type","text","name","name","placeholder","Name","required","",1,"input",3,"ngModelChange","ngModel"],["id","over-login",1,"section-change"],["type","button",1,"page-btn",3,"click"],["id","over-signup",1,"section-change"],["id","error-message"]],template:function(n,e){n&1&&(i(0,"main",0),w(1,"img",1),i(2,"div",2)(3,"form",3)(4,"h1"),l(5,"Login"),o(),i(6,"input",4),p("ngModelChange",function(t){return c(e.email,t)||(e.email=t),t}),o(),i(7,"input",5),p("ngModelChange",function(t){return c(e.password,t)||(e.password=t),t}),o(),i(8,"button",6),m("click",function(){return e.login()}),l(9,"Login"),o(),y(10,N,2,1,"div",7),o(),i(11,"form",8)(12,"h1"),l(13,"Sign Up"),o(),i(14,"input",9),p("ngModelChange",function(t){return c(e.name,t)||(e.name=t),t}),o(),i(15,"input",4),p("ngModelChange",function(t){return c(e.email,t)||(e.email=t),t}),o(),i(16,"input",5),p("ngModelChange",function(t){return c(e.password,t)||(e.password=t),t}),o(),i(17,"button",6),m("click",function(){return e.signUp()}),l(18,"Sign Up"),o()(),i(19,"div",10)(20,"h1"),l(21,"Willkommen zur\xFCck!"),o(),i(22,"p"),l(23,"Du hast noch keinen Account?"),o(),i(24,"button",11),m("click",function(){return e.changeToSignup()}),l(25,"Sign Up"),o()(),i(26,"div",12)(27,"h1"),l(28,"Sch\xF6n dich zu sehen!"),o(),i(29,"p"),l(30,"Du hast schon einen Account?"),o(),i(31,"button",11),m("click",function(){return e.changeToLogin()}),l(32,"Login"),o()()()()),n&2&&(s(6),g("ngModel",e.email),s(),g("ngModel",e.password),s(3),M("ngIf",e.loginError),s(4),g("ngModel",e.name),s(),g("ngModel",e.email),s(),g("ngModel",e.password))},dependencies:[F,L,O,I,A,B,W,T,v,k,S],styles:[".section-main[_ngcontent-%COMP%]{display:flex;justify-content:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}img[_ngcontent-%COMP%]{width:250px;height:auto}.container[_ngcontent-%COMP%]{top:250px;background-color:#213e6e;width:840px;height:480px;position:absolute;overflow:hidden;border-radius:50px}.section-input[_ngcontent-%COMP%]{position:absolute;width:420px;height:480px}.section-change[_ngcontent-%COMP%]{position:absolute;width:420px}.input[_ngcontent-%COMP%]{color:#e9dada;font-weight:500;font-size:15px;width:280px;height:23px;padding:10px 4px;margin-top:15px;margin-left:50%;transform:translate(-50%);border:none;border-bottom:1px solid black;border-radius:5px;outline:none;background-color:#933c;box-shadow:0 2px 5px #152b51}[_ngcontent-%COMP%]::placeholder{color:#e9dada}button[_ngcontent-%COMP%]{width:150px;padding:20px;font-size:large;cursor:pointer;border:none;border-radius:5px;margin-left:50%;transform:translate(-50%);margin-top:1.5rem}.submit-btn[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#da9ca8,#e9dada);color:#1d1e2c}.page-btn[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#152b51,#933);color:#f9f5e3}#login[_ngcontent-%COMP%]{left:0;transition:.5s}#signup[_ngcontent-%COMP%]{left:900px;transition:.5s}.section-input[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:45px;display:inline-block;color:#f9f5e3;margin-top:50px;text-align:center;margin-left:50%;transform:translate(-50%)}.section-change[_ngcontent-%COMP%]{color:#1d1e2c;width:420px;height:480px;background-color:#ffadbc}.section-change[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:45px;margin-top:50px;margin-left:40%;transform:translate(-50%)}.section-change[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-large;margin-top:100px;margin-left:40%;transform:translate(-50%);white-space:nowrap}#over-login[_ngcontent-%COMP%]{left:420px;transition:.5s}#over-signup[_ngcontent-%COMP%]{left:-800px;transition:.5s}#error-message[_ngcontent-%COMP%]{color:#ff4d4d;margin-top:10px;font-size:.9rem;font-weight:700;text-align:center}"]})};export{z as Auth};
